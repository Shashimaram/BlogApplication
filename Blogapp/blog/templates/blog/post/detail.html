{% extends "blog/base.html" %}
{% load blogtags %}
{% block title %}
    {{ post.title }}
    <p>{{ post.author }}</p>
    <p>{{ post.body}}</p>
{% endblock title %}


{% block CommentsBlock %}
    <div class="comments">
        {% with comments.count as total_comments %}
            <p>{{ total_comments }} comment{{ total_comments|pluralize }}</p>
        {% endwith %}

        {% for comment in comments %}
            <div class="info">
                <p>
                    Comment {{ forloop.counter }} by {{ comment.name | linebreaks }}{{ comment.created }}
                </p>
                <p>{{ comment.body|safe }}</p>
            </div>
        {% empty %}
            <p>There are no comments</p>
        {% endfor %}
    </div>
{% endblock CommentsBlock %}


{% block comment_form %}
    <form id="comment_form" data-post-url="{{ post.get_absolute_url }}">
        {% csrf_token %}
        <input type="text" id="name" placeholder="name">
        <input type="email" id="email" placeholder="email">
        <input type="text" id="body" placeholder="body">
        <input type="submit" id="commentsubmit" placeholder="add comment" value="submit">
    </form>
{% endblock comment_form %}

{% block similar_posts %}
    <h2>Similar posts</h2>
    {% for post in similar_posts %}
        <p>
            <a href="{{ post.get_absolute_url }}">{{ post.title }}</a>
        </p>
    {% empty %}
        <p>There are no similar posts yet.</p>
    {% endfor %}
{% endblock similar_posts %}